(this.webpackJsonpmixer=this.webpackJsonpmixer||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(6),i=n.n(a),u=(n(15),n(16),n(17),n(0)),s=function(){return Object(u.jsx)("div",{className:"header",children:Object(u.jsx)("div",{className:"logo",children:"Compare audio side by side"})})},d=n(7),o=n(10),l=n(4),j=n(8),b=n.n(j),f=n(9),O=n.n(f),m=(n(20),"empty"),p="loading",h="ready",v=function(){var e=Object(c.useState)(m),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(l.a)(a,2),s=i[0],j=i[1],f=Object(c.useState)(0),v=Object(l.a)(f,2),x=v[0],y=v[1],g=Object(c.useState)(void 0),N=Object(l.a)(g,2),k=N[0],S=N[1],w=Object(c.useRef)(0),R=Object(c.useRef)(),T=Object(c.useRef)(new Set),B=function(e){e&&T.current.add(e)};Object(c.useEffect)((function(){x>0&&s.length===x&&r(h)}),[s,x]);var C=Object(c.useCallback)(O()((function(e){var t=e.id;console.log(">> onPlay",{id:t,activeId:k});var n,c=Object(d.a)(T.current);try{for(c.s();!(n=c.n()).done;){var r=n.value,a=r.dataset.id;a===t?a!==k&&r.duration>=w.current&&(r.currentTime=w.current,r.paused&&r.play()):r.pause()}}catch(i){c.e(i)}finally{c.f()}S(t)}),100),[k]);return n===m?Object(u.jsx)("input",{type:"file",accept:"audio/*",multiple:!0,onChange:function(e){r(p);var t=e.target.files;y(t.length);for(var n=function(e){var n=t[e],c=new FileReader;c.onload=function(t){j((function(c){return[].concat(Object(o.a)(c),[{id:String(e),name:n.name,blob:URL.createObjectURL(new Blob([t.target.result],{type:n.type}))}])}))},c.readAsArrayBuffer(t[e])},c=0;c<t.length;c++)n(c)}}):n===p?Object(u.jsx)("div",{className:"loader",children:"loading..."}):n===h?Object(u.jsx)("div",{className:"player",ref:R,children:s.map((function(e){return Object(u.jsx)("audio",{className:b()({disabled:e.id!==k}),ref:B,controls:!0,"data-id":e.id,muted:!1,src:e.blob,onMouseOver:function(){return C({id:e.id})},onPlay:function(t){return C({id:e.id})},onSeeked:function(e){return function(e){var t=e.target;t.paused&&t.play()}(e)},onTimeUpdate:function(t){return function(e){var t=e.currentTime;e.id===k&&(w.current=t)}({currentTime:t.target.currentTime,id:e.id})}},e.id)}))}):null},x=(n(21),function(){return Object(u.jsx)("div",{className:"footer",children:Object(u.jsxs)("div",{className:"disclaimer",children:["Made with ",Object(u.jsx)("span",{children:"\ud83d\udda4"})," by ",Object(u.jsx)("a",{href:"https://linktr.ee/futurfrukt",target:"_blank",children:"FuturFrukt"})]})})});function y(){return Object(u.jsxs)("div",{className:"app",children:[Object(u.jsx)(s,{}),Object(u.jsx)("div",{className:"main",children:Object(u.jsx)(v,{})}),Object(u.jsx)(x,{})]})}i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(y,{})}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.e92d6a50.chunk.js.map